<?xml version="1.0" encoding="UTF-8"?>
<!--
    Vehicle Telemetry QoS Profiles
    
    Demonstrates multi-topic DDS with different QoS per topic:
    - Position: Reliable, keep last 10
    - Velocity: Best-effort for high frequency
    - Status: Reliable with durability for late joiners
-->
<dds xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
     xsi:noNamespaceSchemaLocation="http://community.rti.com/schema/current/rti_dds_qos_profiles.xsd">
    
    <qos_library name="VehicleTelemetryLibrary">
        
        <!-- Default profile -->
        <qos_profile name="DefaultProfile" is_default_qos="true">
            <participant_qos>
                <participant_name>
                    <name>Vehicle Telemetry</name>
                </participant_name>
            </participant_qos>
        </qos_profile>
        
        <!-- Position data: Reliable, moderate history -->
        <qos_profile name="PositionProfile">
            <datawriter_qos>
                <reliability>
                    <kind>RELIABLE_RELIABILITY_QOS</kind>
                    <max_blocking_time><sec>1</sec><nanosec>0</nanosec></max_blocking_time>
                </reliability>
                <history>
                    <kind>KEEP_LAST_HISTORY_QOS</kind>
                    <depth>10</depth>
                </history>
            </datawriter_qos>
            <datareader_qos>
                <reliability><kind>RELIABLE_RELIABILITY_QOS</kind></reliability>
                <history><kind>KEEP_LAST_HISTORY_QOS</kind><depth>10</depth></history>
            </datareader_qos>
        </qos_profile>
        
        <!-- Velocity data: Best-effort for high frequency -->
        <qos_profile name="VelocityProfile">
            <datawriter_qos>
                <reliability><kind>BEST_EFFORT_RELIABILITY_QOS</kind></reliability>
                <history><kind>KEEP_LAST_HISTORY_QOS</kind><depth>1</depth></history>
            </datawriter_qos>
            <datareader_qos>
                <reliability><kind>BEST_EFFORT_RELIABILITY_QOS</kind></reliability>
                <history><kind>KEEP_LAST_HISTORY_QOS</kind><depth>1</depth></history>
            </datareader_qos>
        </qos_profile>
        
        <!-- Status data: Reliable with durability for late joiners -->
        <qos_profile name="StatusProfile">
            <datawriter_qos>
                <reliability>
                    <kind>RELIABLE_RELIABILITY_QOS</kind>
                    <max_blocking_time><sec>1</sec><nanosec>0</nanosec></max_blocking_time>
                </reliability>
                <durability><kind>TRANSIENT_LOCAL_DURABILITY_QOS</kind></durability>
                <history><kind>KEEP_LAST_HISTORY_QOS</kind><depth>1</depth></history>
            </datawriter_qos>
            <datareader_qos>
                <reliability><kind>RELIABLE_RELIABILITY_QOS</kind></reliability>
                <durability><kind>TRANSIENT_LOCAL_DURABILITY_QOS</kind></durability>
                <history><kind>KEEP_LAST_HISTORY_QOS</kind><depth>1</depth></history>
            </datareader_qos>
        </qos_profile>
        
    </qos_library>
    
</dds>

